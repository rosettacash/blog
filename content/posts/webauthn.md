---
title: "无密码时代"
date: 2019-01-11T17:54:00+08:00
draft: true
---

在使用各种互联网服务的时候，身份认证是必不可少的。最常见的方式就是输入用户名密码，对于普通人类来说，密码并不是一个最佳方案。

<!--more-->

让用户输入密码，会有这些问题：

- 密码太简单，可能被黑客破解
- 密码太复杂，可能忘记
- 浏览器记住密码，设备被其他人使用时可能忘记清除密码

所以我们需要一个更好的保管复杂密码的方式，W3C的webauthn接口正是为了解决这些问题。

# 原理

用户只需要持有一个保存了私钥并且具有签名功能的 Authenticator，通常这是一个硬件设备，例如 yubico 公司的 yubikey。在登陆某个服务的时候，网站会要求用户提供一个密码学的证明（签名）。这使得用户不需要输入密码，而且在不需要登陆时拔下设备即可。

# 流程

1. 注册

Authenticator 可以是你的手机或者是USB设备。用手机登陆相关网页，绑定，设置PIN码或者生物信息（指纹）即可。

2. 验证

Authenticator 和电脑相连（蓝牙），电脑打开相关网页，点击登陆，在手机上输入PIN码或者生物信息。电脑上登录成功。

现在很多电脑还没有指纹识别功能，所以需要USB设备作为 Authenticator，相信随着技术进步，指纹识别会成为电脑的标配。如果电脑上有指纹识别功能，那么只需要在注册时使用USB设备，并绑定指纹，之后登陆时只需要验证指纹即可。

![rp](/images/rp.jpeg)

这里的 Relying Party 也就是用户要登陆的机构，为了避免虚假的 Relying Party 盗用用户的签名，其会提供一个 RP ID，以及和 RP ID 相关联的 公钥证书。




